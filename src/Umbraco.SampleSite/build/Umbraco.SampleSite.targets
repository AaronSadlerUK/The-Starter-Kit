<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

    <PropertyGroup>
        <UmbracoSampleSiteContentFilesPath>$(MSBuildThisFileDirectory)..\App_Plugins\StarterKit\**\*.*</UmbracoSampleSiteContentFilesPath>
        <UmbracoSampleSiteViewsPath>$(MSBuildThisFileDirectory)..\Views\**\*.*</UmbracoSampleSiteViewsPath>
        <UmbracoSampleSiteWwwrootPath>$(MSBuildThisFileDirectory)..\wwwroot\**\*.*</UmbracoSampleSiteWwwrootPath>
    </PropertyGroup>

    <Target Name="CopyUmbracoSampleSiteAppPlugins" BeforeTargets="Build">
        <ItemGroup>
            <UmbracoSampleSiteContentFiles Include="$(UmbracoSampleSiteContentFilesPath)" />
        </ItemGroup>
        <Message Text="Copying UmbracoSampleSite App_Plugins files: $(UmbracoSampleSiteContentFilesPath) - #@(UmbracoSampleSiteContentFiles->Count()) files"  Importance="high" />
        <Copy
            SourceFiles="@(UmbracoSampleSiteContentFiles)"
            DestinationFiles="@(UmbracoSampleSiteContentFiles->'$(MSBuildProjectDirectory)\App_Plugins\StarterKit\%(RecursiveDir)%(Filename)%(Extension)')"
            SkipUnchangedFiles="true" />
    </Target>

    <Target Name="CopyUmbracoSampleSiteViews" BeforeTargets="Build">
        <ItemGroup>
            <UmbracoSampleSiteViews Include="$(UmbracoSampleSiteViewsPath)" />
        </ItemGroup>
        <Message Text="Copying UmbracoSampleSite View files: $(UmbracoSampleSiteViewsPath) - #@(UmbracoSampleSiteViews->Count()) files"  Importance="high" />
        <Copy
                SourceFiles="@(UmbracoSampleSiteViews)"
                DestinationFiles="@(UmbracoSampleSiteViews->'$(MSBuildProjectDirectory)\Views\%(RecursiveDir)%(Filename)%(Extension)')"
                SkipUnchangedFiles="true" />
    </Target>

    <Target Name="CopyUmbracoSampleSiteWwwroot" BeforeTargets="Build">
        <ItemGroup>
            <UmbracoSampleSiteWwwroot Include="$(UmbracoSampleSiteWwwrootPath)" />
        </ItemGroup>
        <Message Text="Copying UmbracoSampleSite wwwroot files: $(UmbracoSampleSiteWwwrootPath) - #@(UmbracoSampleSiteWwwroot->Count()) files"  Importance="high" />
        <Copy
                SourceFiles="@(UmbracoSampleSiteWwwroot)"
                DestinationFiles="@(UmbracoSampleSiteWwwroot->'$(MSBuildProjectDirectory)\wwwroot\%(RecursiveDir)%(Filename)%(Extension)')"
                SkipUnchangedFiles="true" />
    </Target>

    <Target Name="ClearUmbracoSampleSiteAssets" BeforeTargets="Clean">
        <ItemGroup>
            <UmbracoSampleSiteDir Include="$(MSBuildProjectDirectory)\App_Plugins\StarterKit\" />
        </ItemGroup>
        <Message Text="Clear old UmbracoSampleSite data"  Importance="high" />
        <RemoveDir Directories="@(UmbracoSampleSiteDir)"  />
    </Target>

</Project>
